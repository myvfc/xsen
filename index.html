<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>eXperience Sports & Entertainment Network</title>

  <!-- ========================= -->
  <!-- ESPN TICKER CSS           -->
  <!-- ========================= -->
  <style>
    .ticker-container {
      background: #841617; /* OU Crimson */
      color: #FDF9E1;      /* Cream */
      font-weight: bold;
      width: 100%;
      overflow: hidden;
      white-space: nowrap;
      position: fixed;
      top: 0;
      left: 0;
      z-index: 9999;
      padding: 10px 0;
      border-bottom: 2px solid #FDF9E1;
      font-family: Arial, sans-serif;
    }

    .ticker-text {
      display: inline-block;
      padding-left: 100%;
      animation: ticker-scroll 25s linear infinite; /* slower speed */
      font-size: 1rem;
      letter-spacing: 0.5px;
    }

    @keyframes ticker-scroll {
      0% { transform: translateX(0); }
      100% { transform: translateX(-100%); }
    }

    /* Push page content down so header doesn't hide under ticker */
    body {
      margin-top: 55px;
      font-family: Arial, sans-serif;
    }

    /* Basic styling for your page */
    header, footer {
      text-align: center;
      padding: 20px;
    }

    .container {
      max-width: 900px;
      margin: 30px auto;
      text-align: center;
    }

    .bot-grid {
      display: flex;
      justify-content: center;
    }

    .bot-card {
      border: 1px solid #ccc;
      padding: 20px;
      width: 260px;
      border-radius: 10px;
      background: #fff;
    }

    .btn {
      display: inline-block;
      background: #841617;
      padding: 10px 20px;
      border-radius: 8px;
      color: white;
      text-decoration: none;
      margin-top: 10px;
      font-weight: bold;
    }
  </style>
</head>

<body>

  <!-- ========================= -->
  <!-- ESPN LIVE SCORE TICKER   -->
  <!-- ========================= -->
  <div class="ticker-container">
    <span id="tickerText" class="ticker-text">Loading OU scores...</span>
  </div>

  <!-- ========================= -->
  <!-- HEADER                    -->
  <!-- ========================= -->
  <header>
    <h1>eXperience Sports & Entertainment Network</h1>
    <p>Your AI-powered sports channels â€” powered by The Botosphere</p>
  </header>

  <!-- ========================= -->
  <!-- CONTENT                   -->
  <!-- ========================= -->
  <div class="container">
    <h2 style="margin-bottom: 20px;">Available Channels</h2>

    <div class="bot-grid">

      <!-- BOOMER BOT CARD -->
      <div class="bot-card">
        <img src="tbsn-site/assets/BB all sports.png" alt="Boomer Bot" width="200" />
        <h3>Boomer Bot</h3>
        <p>
          Oklahoma Sooners all-sports AI companion.<br>
          Scores â€¢ Stats â€¢ Highlights â€¢ News â€¢ Analysis â€¢ Videos
        </p>
        <a href="https://boomerbot.fun" class="btn">Visit Channel</a>
      </div>

    </div>
  </div>

  <!-- ========================= -->
  <!-- FOOTER                    -->
  <!-- ========================= -->
  <footer>
    Â© <span id="year"></span> eXperience Sports & Entertainment Network â€¢ Powered by The Botosphere<br>
    <a href="https://thebotosphere.com" target="_blank">Visit The Botosphere</a>
  </footer>

  <script>
    // Auto-update footer year
    document.getElementById("year").textContent = new Date().getFullYear();
  </script>

  <!-- ========================= -->
  <!-- ESPN LIVE SCORE SCRIPT    -->
  <!-- ========================= -->
  <script>
async function fetchESPN(url) {
  try {
    const res = await fetch(url);
    const data = await res.json();
    return data;
  } catch (err) {
    return null;
  }
}

function extractTeamScore(game, teamIndex) {
  try {
    return {
      name: game.competitors[teamIndex].team.shortDisplayName,
      score: game.competitors[teamIndex].score
    };
  } catch {
    return null;
  }
}

async function loadScores() {
  let tickerItems = [];

  // ======= FOOTBALL =======
  const fb = await fetchESPN("https://site.api.espn.com/apis/site/v2/sports/football/college-football/scoreboard");
  if (fb && fb.events) {
    fb.events.forEach(event => {
      if (event.shortName.includes("Oklahoma")) {
        const g = event.competitions[0];
        const t1 = extractTeamScore(g, 0);
        const t2 = extractTeamScore(g, 1);
        tickerItems.push(`ðŸˆ ${t1.name} ${t1.score} â€” ${t2.score} ${t2.name}`);
      }
    });
  }

  // ======= MEN'S BASKETBALL =======
  const mbb = await fetchESPN("https://site.api.espn.com/apis/site/v2/sports/basketball/mens-college-basketball/scoreboard");
  if (mbb && mbb.events) {
    mbb.events.forEach(event => {
      if (event.shortName.includes("Oklahoma")) {
        const g = event.competitions[0];
        const t1 = extractTeamScore(g, 0);
        const t2 = extractTeamScore(g, 1);
        tickerItems.push(`ðŸ€ ${t1.name} ${t1.score} â€” ${t2.score} ${t2.name}`);
      }
    });
  }

  // ======= SOFTBALL =======
  const sb = await fetchESPN("https://site.api.espn.com/apis/site/v2/sports/softball/college-softball/scoreboard");
  if (sb && sb.events) {
    sb.events.forEach(event => {
      if (event.shortName.includes("Oklahoma")) {
        const g = event.competitions[0];
        const t1 = extractTeamScore(g, 0);
        const t2 = extractTeamScore(g, 1);
        tickerItems.push(`ðŸ¥Ž ${t1.name} ${t1.score} â€” ${t2.score} ${t2.name}`);
      }
    });
  }

  // ======= FINAL ASSEMBLY =======
  if (tickerItems.length === 0) {
    tickerItems = ["No current OU games in progress â€” check back soon!"];
  }

  document.getElementById("tickerText").textContent = tickerItems.join(" â€¢ ");
}

// Load immediately
loadScores();

// Refresh every 30 seconds
setInterval(loadScores, 30000);
  </script>

</body>
</html>
